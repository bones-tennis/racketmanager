<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/css/side_menu.css">
  <script src="/js/side_menu.js" defer></script>
  <title>顧客管理</title>
  <link rel="stylesheet" href="/css/staff_customers.css">
</head>
<body>
	<div th:replace="side_menu :: sideMenu"></div>

<h2>顧客一覧</h2>

<!-- 🔸 検索フォーム -->
<form th:action="@{/staff/customers}" method="get" class="search-form">
  <input type="text" name="keyword" placeholder="顧客名で検索" th:value="${keyword}">
  <button type="submit">検索</button>
</form>

<div class="table-wrapper">
  <table border="1">
    <tr>
      <th>ID</th>
      <th>表示名</th>
      <th>ユーザー名</th>
      <th>Provider</th>
      <th>操作</th>
    </tr>
    <tr th:each="c : ${customers}">
      <td th:text="${c.id}"></td>
      <td th:text="${c.displayName}"></td>
      <td th:text="${c.usernameDecrypted}"></td>
      <td th:text="${c.provider}"></td>
      <td>
        <a th:href="@{|/staff/customers/${c.id}/edit|}" class="edit-btn">編集</a>
        <form th:action="@{|/staff/customers/${c.id}/delete|}" method="post" style="display:inline;" onsubmit="return confirm('削除しますか？')">
          <button type="submit" class="delete-btn">削除</button>
        </form>
      </td>
    </tr>
  </table>
</div>

</body>
</html>
